(this["webpackJsonpdraught-services"]=this["webpackJsonpdraught-services"]||[]).push([[0],{200:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(41),i=a.n(s),r=(a(200),a(46)),l=a.n(r);const o=(l.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",l.a.defaults.baseURL="http://localhost:8443/api/v1",l.a.defaults.withCredentials=!0,l.a);class d{async getUserInfo(e,t){return console.log(JSON.stringify(e)),console.log(JSON.stringify(t)),o.post("/login/",{email:e,password:t})}async checkUserEmail(e){return o.get("/signup/".concat(e))}async insertNewUser(e,t,a){return console.log(JSON.stringify(t)),console.log(JSON.stringify(a)),o.post("/signup/",{email:t,password:a,userName:e})}async insertCharacter(e,t){return o.post("/characters/insert/",{userName:e,raidTeam_id:t}).then((e=>e.data)).catch((e=>({error:e,character:void 0})))}async allCharacters(e){return o.get("characters/all-characters/".concat(e))}async deleteCharacter(e){return l.a.delete("/characters/delete/".concat(encodeURIComponent(e)))}async insertNotes(e,t){return l.a.post("/characters/insert-notes/".concat(encodeURIComponent(e)),{notes:t})}async insertRole(e,t,a){return l.a.post("/characters/insert-role/".concat(encodeURIComponent(e),"/").concat(t),{role:a}).then((e=>e.data)).catch((e=>({error:e})))}async allAccounts(){return o.get("accounts/all-accounts")}async accountWithEmail(e){return o.get("accounts/".concat(e))}async allRaidTeams(){return o.get("raidteams/all-raidteams")}async checkRaidName(e){return o.get("/raidteams/".concat(e))}async createRaidTeam(e,t,a,n,c){return o.post("/raidteams/",{teamName:e,numPlayers:t,raidDay_A:a,raidDay_B:n,raidTime:c})}async addPlayerToRaid(e,t){return o.get("raidteams/".concat(e,"/").concat(t))}async charsForRaidTeam(e){return o.get("/raidteams/".concat(e,"/chars-for-raidteam"))}async removeChar(e){return l.a.patch("/raidteams/remove/".concat(e))}async deleteRaid(e){return l.a.delete("/raidteams/delete/".concat(e))}}var j=a(158),u=a(314),b=a(321),h=a(298),m=a(322),O=a(326),x=a(316),g=a(108),f=a(328),y=a(320),p=a(312),S=a(318),v=a(76),N=a.n(v),C=a(1);const R=Object(j.a)();function T(e){let{setUser:t,setSignupMode:a}=e;const[c,s]=Object(n.useState)(""),[i,r]=Object(n.useState)(""),[l,o]=Object(n.useState)(!1),[j,v]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{if(!j)return;const e=new d;!async function(){e.getUserInfo(c,i).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e)));const a=e.data.user;console.log("BELOW IS USER"),console.log(a),"OK"===e.data.status?(console.log("SETTING USER to USER"),t(a)):(v(!1),o(!0))}))}()}),[j,c,i,t]),Object(C.jsx)(u.a,{theme:R,children:Object(C.jsxs)(b.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(C.jsx)(h.a,{}),Object(C.jsx)(b.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://wallpapers.com/images/hd/world-of-warcraft-restoration-druid-healing-69ucodb01a3oyfab.webp)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),Object(C.jsx)(b.a,{item:!0,xs:12,sm:8,md:5,component:m.a,elevation:6,square:!0,children:Object(C.jsxs)(O.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(C.jsx)(x.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(C.jsx)(N.a,{})}),Object(C.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(C.jsxs)(O.a,{component:"form",noValidate:!0,sx:{mt:1},children:[Object(C.jsx)(f.a,{error:l,label:"Email",fullWidth:!0,value:c,onChange:e=>s(e.target.value),margin:"normal",helperText:l?"Invalid email or password":""}),Object(C.jsx)(f.a,{error:l,label:"Password",type:"password",fullWidth:!0,value:i,onChange:e=>r(e.target.value),margin:"normal",helperText:l?"Invalid email or password":""}),Object(C.jsx)(y.a,{control:Object(C.jsx)(p.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(C.jsx)(S.a,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:()=>{console.log("handleLogin called."),0===c.length||0===i.length?o(!0):(o(!1),v(!0))},children:"Sign In"}),Object(C.jsx)(S.a,{variant:"contained",sx:{mt:3,mb:2,marginLeft:1},onClick:()=>{console.log("handleSignup called."),a(!0)},children:"Sign up here"})]})]})})]})})}var D=a(4),k=a(66),E=a(341),w=a(342),I=a(332),W=a(317),A=a(306),B=a(337),P=a(339),M=a(335),F=a(336),U=a(338),J=a(334);const z=[{title:"Email",attributeDBName:"email",align:"left"},{title:"User Name",attributeDBName:"userName",align:"left"},{title:"Account ID",attributeDBName:"account_id",align:"left"},{title:"Role",attributeDBName:"role",align:"left"}];function _(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(!1),[s,i]=Object(n.useState)(!1),[r,l]=Object(n.useState)(void 0);Object(n.useEffect)((()=>{if(!a||0===e.length)return;const t=new d;!async function(){t.getUserInfo(e).then((e=>{console.log("api returns user info and it is: ".concat(JSON.stringify(e)));const t=e.user;"OK"===e.status?l(t):(c(!1),i(!0))}))}()}),[a,l,e]);const[o,j]=Object(n.useState)([]);console.log("in AccountTable accounts contains is ".concat(JSON.stringify(o))),Object(n.useEffect)((()=>{const e=new d;!async function(){const t=await e.allAccounts();console.log("accounts from the DB ".concat(JSON.stringify(t))),j(t.data)}()}),[]);const u=e=>{let{accountObject:t,onClick:a}=e;return Object(C.jsx)(J.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:z.map(((e,n)=>Object(C.jsx)(M.a,{onClick:()=>a(t),align:e.align,children:t[e.attributeDBName]},n)))})};return Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)(g.a,{component:"h1",variant:"h5",children:"Here is a list of all your characters that reside in your account."}),o.length>0&&Object(C.jsx)(F.a,{component:m.a,children:Object(C.jsxs)(B.a,{sx:{minWidth:650},"aria-label":"account table",children:[Object(C.jsx)(U.a,{children:Object(C.jsx)(J.a,{children:z.map(((e,t)=>Object(C.jsx)(M.a,{align:e.align,children:e.title},t)))})}),Object(C.jsx)(P.a,{children:o.map(((e,t)=>Object(C.jsx)(u,{accountObject:e},t)))})]})})]})}var L=a(340),H=a(79),q=a.n(H),K=a(155),G=a.n(K),V=a(154),X=a.n(V),Q=a(153),Y=a.n(Q),Z=a(308),$=a(324);const ee={Tank:"https://cdn.raiderio.net/assets/img/role_tank-6cee7610058306ba277e82c392987134.png",Healer:"https://cdn.raiderio.net/assets/img/role_healer-984e5e9867d6508a714a9c878d87441b.png",DPS:"https://cdn.raiderio.net/assets/img/role_dps-eb25989187d4d3ac866d609dc009f090.png"};var te=function(e){let{character:t,handleUpdateRole:a}=e;const[c,s]=Object(n.useState)(t.role||"");return Object(C.jsxs)(Z.a,{value:c,onChange:async e=>{const n=e.target.value;s(n);try{await a(t.name,n,t.raidTeam_id)}catch(c){console.error("Error updating role:",c)}},displayEmpty:!0,renderValue:e=>e?Object(C.jsx)("img",{src:ee[e],alt:"".concat(e," role icon"),style:{width:"24px",height:"24px"}}):"Select Role",children:[Object(C.jsx)($.a,{value:"",disabled:!0,children:"Select Role"}),'  // Default "Select Role" option',Object.entries(ee).map((e=>{let[t,a]=e;return Object(C.jsx)($.a,{value:t,children:Object(C.jsx)("img",{src:a,alt:"".concat(t," icon"),style:{width:"24px",height:"24px"}})},t)}))]})};const ae=[{title:"Image",attributeDBName:"imagePath",align:"left"},{title:"Role",attributeDBName:"role",align:"left"},{title:"Name",attributeDBName:"name",align:"left"},{title:"Race",attributeDBName:"race",align:"left"},{title:"Class",attributeDBName:"class",align:"left"},{title:"Item Level",attributeDBName:"gearScore",align:"left"}],ne={Paladin:2,Druid:1,DemonHunter:1,Monk:1,Priest:1,Mage:1,Evoker:1,Hunter:1,Warrior:1,Rogue:1,Warlock:1},ce={DeathKnight:"#dca3a3",Paladin:"#f4a7b1",Druid:"#f5c78e",Warrior:"#c0c0c0",Mage:"#add8e6",Hunter:"#9acd32",Rogue:"#f0e68c",Priest:"#f5f5f5",Shaman:"#b0e0e6",Warlock:"#d8bfd8",Monk:"#98fb98",DemonHunter:"#d8bfd8",Evoker:"#afeeee"};var se=function(e){let{raidID:t}=e;const[a,s]=Object(n.useState)(!1),[i,r]=Object(n.useState)(""),[l,o]=Object(n.useState)([]),[j,u]=Object(n.useState)(null),[b,h]=Object(n.useState)(""),x=new d,[y,p]=Object(n.useState)(null),[v,N]=Object(n.useState)(0),[R,T]=Object(n.useState)([]),[D,k]=Object(n.useState)(!1);function E(e){return e?e.replace(/\s+/g,""):(console.warn("Encountered undefined className, defaulting to empty string."),"")}console.log(t);const w=l.sort(((e,t)=>{const a={Tank:1,Healer:2,DPS:3,undefined:4};return(a[e.role]||4)-(a[t.role]||4)}));Object(n.useEffect)((()=>{const e=async()=>{const e=await x.allCharacters(t);console.log(e),e.data&&(o(e.data),console.log(e.data),N(e.data.length))};e();const a=setInterval(e,5e3);return()=>clearInterval(a)}),[t]),Object(n.useEffect)((()=>{if(l.length>0&&l.every((e=>void 0!==e.class))){const e=function(e){const t={};Object.keys(ne).forEach((e=>{t[e]=0})),e.forEach((e=>{const a=E(e.class);t.hasOwnProperty(a)&&t[a]++}));const a=[];return Object.entries(ne).forEach((e=>{let[n,c]=e;const s=c-t[n];s>0&&a.push("Missing ".concat(s," ").concat(n).concat(s>1?"s":""))})),a}(l);T(e)}else console.log("Waiting for characters data to be fully loaded or verified...")}),[l]);const I=()=>{u(null),h("")},W=async(e,t,a)=>{try{await x.insertRole(e,a,t)}catch(n){console.error("Failed to update role:",n)}};return Object(C.jsxs)(O.a,{position:"relative",children:[Object(C.jsx)(g.a,{variant:"h4",sx:{mb:2},children:"Characters"}),Object(C.jsxs)(g.a,{variant:"subtitle1",sx:{mb:2},children:["Character Count: ",v,"/20"]}),R.length>0&&Object(C.jsx)(O.a,{sx:{mb:2},children:R.map(((e,t)=>Object(C.jsx)(g.a,{color:"error",children:e},t)))}),Object(C.jsx)(S.a,{variant:"outlined",onClick:()=>k((e=>!e)),sx:{position:"absolute",top:10,right:10,borderColor:"black",color:"black"},children:D?"Expanded View":"Minimal View"}),Object(C.jsx)(F.a,{component:m.a,children:Object(C.jsxs)(B.a,{sx:{minWidth:650},"aria-label":"characters table",children:[Object(C.jsx)(U.a,{children:Object(C.jsxs)(J.a,{children:[ae.filter((e=>!D||["Role","Name","Class"].includes(e.title))).map((e=>Object(C.jsx)(M.a,{align:e.align,children:e.title},e.title))),!D&&Object(C.jsx)(M.a,{align:"center",children:"Actions"})]})}),Object(C.jsx)(P.a,{children:w.map(((e,t)=>Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsxs)(J.a,{sx:{backgroundColor:ce[E(e.class)]||"#FFFFFF"},children:[ae.filter((e=>!D||["Role","Name","Class"].includes(e.title))).map((t=>Object(C.jsx)(M.a,{align:t.align,children:"imagePath"!==t.attributeDBName||D?"role"===t.attributeDBName?Object(C.jsx)(te,{character:e,handleUpdateRole:W}):e[t.attributeDBName]:Object(C.jsx)("img",{src:e[t.attributeDBName],alt:"Avatar of ".concat(e.name),style:{width:"70px",height:"70px"}})},t.title))),!D&&Object(C.jsxs)(M.a,{align:"center",children:[Object(C.jsx)(L.a,{onClick:()=>p(y===t?null:t),children:y===t?Object(C.jsx)(Y.a,{}):Object(C.jsx)(X.a,{})}),Object(C.jsx)(L.a,{onClick:()=>(e=>{u(e),h(l[e].detail||"")})(t),children:Object(C.jsx)(G.a,{})}),Object(C.jsx)(S.a,{variant:"outlined",color:"error",onClick:()=>(async e=>{try{const t=e;if(200!==(await x.deleteCharacter(t)).status)throw new Error("Failed to delete character");o(l.filter((t=>t.name!==e))),N((e=>e-1))}catch(t){console.error("Error deleting character:",t)}})(e.name),children:"Delete"}),j===t&&Object(C.jsxs)(O.a,{children:[Object(C.jsx)(f.a,{value:b,onChange:e=>h(e.target.value),size:"small"}),Object(C.jsx)(S.a,{onClick:()=>(async e=>{const t=l[e],a=t.name,n=b;try{if(200!==(await x.insertNotes(a,n)).status)throw new Error("Failed to update notes");{const a={...t,detail:n};o(l.map(((t,n)=>n===e?a:t))),u(null),h("")}}catch(c){console.error("Error updating notes:",c)}})(t),children:"Save"}),Object(C.jsx)(S.a,{onClick:I,children:"Cancel"})]})]})]},t),y===t&&Object(C.jsx)(J.a,{children:Object(C.jsx)(M.a,{colSpan:ae.length+1,children:Object(C.jsx)(g.a,{variant:"body2",style:{whiteSpace:"pre-wrap"},children:e.notes||"No notes available"})})})]},t)))})]})}),a&&Object(C.jsx)(f.a,{label:"Enter Character Name",variant:"outlined",value:i,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&(async()=>{if(i)try{const e=await x.insertCharacter(i,t);if(console.log(e),e.error)throw e.error;o([...l,e]),N((e=>e+1)),r(""),s(!1)}catch(e){console.error("API call failed:",e)}})(),fullWidth:!0,sx:{borderColor:"black",color:"black","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}}}}),Object(C.jsx)(L.a,{onClick:()=>s(!0),"aria-label":"add character",size:"large",sx:{fontSize:"3rem",mt:2},children:Object(C.jsx)(q.a,{sx:{fontSize:"inherit"}})})]})},ie=a(331),re=a(319),le=a(333),oe=a(325),de=a(327);const je=Object(j.a)();function ue(e){let{setMakeRaidMode:t}=e;const[a,c]=Object(n.useState)(""),[s,i]=Object(n.useState)(""),[r,l]=Object(n.useState)(""),[o,j]=Object(n.useState)(""),[m,x]=Object(n.useState)(""),[y,p]=Object(n.useState)(!0),[v,N]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{if(0===a.length)return;const e=new d;!async function(){e.checkRaidName(a).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e.data.user))),console.log("HERE IS USERINFO.DATA"),console.log(e.data),console.log("BELOW IS USER status"),console.log(e.data.status),"OK"===e.data.status&&(console.log("USER IS NOT FOUND, PROCEED WITH SIGNUP"),p(!1))}))}()}),[v]),Object(n.useEffect)((()=>{if(0===a.length||0===s.length||0===m.length)return;const e=new d;!async function(){e.createRaidTeam(a,s,r,o,m).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e))),"OK"===e.data.status?(alert("Raid Team Created!"),t(!1)):alert("Creation NOT Sucessful")}))}()}),[y]),Object(C.jsx)(u.a,{theme:je,children:Object(C.jsxs)(de.a,{component:"main",maxWidth:"xs",children:[Object(C.jsx)(h.a,{}),Object(C.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(C.jsx)(g.a,{component:"h1",variant:"h5",children:"Create Raid Team"}),Object(C.jsxs)(O.a,{component:"form",sx:{mt:3},children:[Object(C.jsxs)(b.a,{container:!0,spacing:2,children:[Object(C.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(C.jsx)(f.a,{required:!0,fullWidth:!0,id:"teamName",label:"Team Name",name:"teamName",value:a,onChange:e=>c(e.target.value)})}),Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsx)(f.a,{required:!0,fullWidth:!0,id:"numPlayers",label:"Raid Team Size",name:"numPlayers",value:s,onChange:e=>i(e.target.value)})}),Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsxs)(ie.a,{sx:{m:1,minWidth:120},children:[Object(C.jsx)(re.a,{id:"rd1",children:"Raid Day 1"}),Object(C.jsxs)(Z.a,{id:"rd1",value:r,label:"Raid Day 1",onChange:e=>l(e.target.value),children:[Object(C.jsx)($.a,{value:"",children:Object(C.jsx)("em",{children:"None"})}),Object(C.jsx)($.a,{value:"Monday",children:"Monday"}),Object(C.jsx)($.a,{value:"Tuesday",children:"Tuesday"}),Object(C.jsx)($.a,{value:"Wednesday",children:"Wednesday"}),Object(C.jsx)($.a,{value:"Thursday",children:"Thursday"}),Object(C.jsx)($.a,{value:"Friday",children:"Friday"}),Object(C.jsx)($.a,{value:"Saturday",children:"Saturday"}),Object(C.jsx)($.a,{value:"Sunday",children:"Sunday"})]})]})}),Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsxs)(ie.a,{sx:{m:1,minWidth:120},children:[Object(C.jsx)(re.a,{id:"rd2",children:"Raid Day 2"}),Object(C.jsxs)(Z.a,{id:"rd2",value:o,label:"Raid Day 2",onChange:e=>j(e.target.value),children:[Object(C.jsx)($.a,{value:"",children:Object(C.jsx)("em",{children:"None"})}),Object(C.jsx)($.a,{value:"Monday",children:"Monday"}),Object(C.jsx)($.a,{value:"Tuesday",children:"Tuesday"}),Object(C.jsx)($.a,{value:"Wednesday",children:"Wednesday"}),Object(C.jsx)($.a,{value:"Thursday",children:"Thursday"}),Object(C.jsx)($.a,{value:"Friday",children:"Friday"}),Object(C.jsx)($.a,{value:"Saturday",children:"Saturday"}),Object(C.jsx)($.a,{value:"Sunday",children:"Sunday"})]}),Object(C.jsx)(le.a,{children:"Select 'None' if only 1 raid day"})]})}),Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsx)(f.a,{required:!0,fullWidth:!0,id:"raidTime",label:"Time of Raid",name:"raidTime",value:m,onChange:e=>x(e.target.value)})})]}),Object(C.jsx)(S.a,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:()=>{console.log("Submit Raid Team Called"),N(!0)},children:"Submit Raid Team"}),Object(C.jsx)(b.a,{container:!0,justifyContent:"flex-end",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(oe.a,{variant:"body2",onClick:()=>{console.log("Raid Mode called"),t(!1)},children:"Already have a Raid Team? Go back"})})})]})]})]})})}var be=a(157),he=a.n(be),me=a(156),Oe=a.n(me);const xe=[{title:"Raid ID",attributeDBName:"raidTeam_id",align:"left"},{title:"Team Name",attributeDBName:"teamName",align:"left"},{title:"Raid Size",attributeDBName:"numPlayers",align:"left"},{title:"Raid Day 1",attributeDBName:"raidDay_A",align:"left"},{title:"Raid Day 2",attributeDBName:"raidDay_B",align:"left"},{title:"Raid Time (PST)",attributeDBName:"raidTime",align:"left"},{title:"Players on Bench",attributeDBName:"numBench",align:"left"},{title:"Trials",attributeDBName:"numTrial",align:"left"}],ge=[{title:"Team Name",attributeDBName:"teamName",align:"left"},{title:"Name",attributeDBName:"name",align:"left"},{title:"Role",attributeDBName:"role",align:"left"},{title:"Race",attributeDBName:"race",align:"left"},{title:"Class",attributeDBName:"class",align:"left"},{title:"Item Level",attributeDBName:"gearScore",align:"left"}];function fe(e){let{setMakeRaidMode:t,setAddCharMode:a,setOneRaidMode:c,setRaid:s,setChars:i}=e;const[r,l]=Object(n.useState)([]),[o,j]=Object(n.useState)([]),[u,h]=Object(n.useState)([]),[x,g]=Object(n.useState)(!1),[f,y]=Object(n.useState)(null),[p,v]=Object(n.useState)(!1),[N,R]=Object(n.useState)(!1),[T,D]=Object(n.useState)(null),[k,E]=Object(n.useState)(""),[w,I]=Object(n.useState)(!1),[W,A]=Object(n.useState)(null),[z,_]=Object(n.useState)(null),[H,K]=Object(n.useState)(!1);Object(n.useEffect)((()=>{const e=new d;K(!1),async function(){const t=await e.allRaidTeams();console.log("raidteams from the DB ".concat(JSON.stringify(t))),j(t.data)}()}),[H]),Object(n.useEffect)((()=>{if(f){const e=new d;async function t(){const t=await e.charsForRaidTeam(JSON.stringify(f));console.log(JSON.stringify(f)),console.log("characters from the DB ".concat(JSON.stringify(t))),l(t.data),h(new Array(t.data.length).fill(!1))}t()}}),[f]),Object(n.useEffect)((()=>{if(N){const e=new d;async function t(){try{console.log("here you are"),console.log(T);const t=await e.removeChar(JSON.stringify(T));console.log("API returns user info and it is: ".concat(JSON.stringify(t.data.user)))}catch(t){console.error("Failed to remove character from team:",t)}}t().then((()=>{R(!1),K(!0)}))}}),[N,T]),Object(n.useEffect)((()=>{if(p){const e=new d;async function t(){try{console.log("here you are"),console.log(f);const t=await e.deleteRaid(JSON.stringify(f));console.log("API returns user info and it is: ".concat(JSON.stringify(t.data.user)))}catch(t){console.error("Failed to delete raid team:",t)}}t().then((()=>{v(!1),K(!0)}))}}),[p,f]);const G=()=>{A(null)},V=()=>{_(null)};return Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)(b.a,{container:!0,spacing:2,children:Object(C.jsx)(b.a,{item:!0,xs:6,sm:6,children:Object(C.jsx)(O.a,{sx:{display:"flex",alignItems:"center"},children:Object(C.jsxs)(S.a,{variant:"outlined",color:"success",onClick:()=>t(!0),children:["Add Raid Team",Object(C.jsx)(L.a,{"aria-label":"add character",size:"large",color:"green",sx:{fontSize:"2rem",ml:1},children:Object(C.jsx)(q.a,{sx:{fontSize:"inherit"}})})]})})})}),o.length>0&&Object(C.jsx)(F.a,{component:m.a,children:Object(C.jsxs)(B.a,{sx:{minWidth:650},size:"small","aria-label":"market table",children:[Object(C.jsx)(U.a,{children:Object(C.jsxs)(J.a,{children:[Object(C.jsx)(M.a,{}),xe.map(((e,t)=>Object(C.jsx)(M.a,{align:e.align,children:e.title},t)))]})}),Object(C.jsx)(P.a,{children:o.map(((e,t)=>Object(C.jsxs)(n.Fragment,{children:[Object(C.jsxs)(J.a,{sx:{backgroundColor:t===W?"#CFD8D7":"inherit"},onMouseEnter:()=>{A(t)},onMouseLeave:G,children:[Object(C.jsx)(M.a,{children:Object(C.jsx)(L.a,{"aria-label":"expand row",size:"small",onClick:()=>{(e=>{y(e.raidTeam_id);const t=[...u];t[e]=!t[e],h(t)})(t),(e=>{g(!0),y(e)})(o[t].raidTeam_id)},children:u[t]?Object(C.jsx)(Oe.a,{}):Object(C.jsx)(he.a,{})},t)}),xe.map(((t,a)=>Object(C.jsx)(M.a,{align:t.align,onClick:()=>{return t=e,console.log(t),console.log(r),s(t),i(r),void c(!0);var t},children:e[t.attributeDBName]},a))),Object(C.jsx)(M.a,{align:"center",children:Object(C.jsx)(S.a,{variant:"outlined",color:"error",onClick:t=>((e,t)=>{t.stopPropagation(),console.log(e.raidTeam_id),y(e.raidTeam_id),v(!0),console.log("Delete clicked for",e)})(e,t),children:"Delete"})})]}),u[t]&&Object(C.jsx)(J.a,{children:Object(C.jsx)(M.a,{colSpan:xe.length+1,children:Object(C.jsx)(F.a,{component:m.a,children:Object(C.jsxs)(B.a,{size:"small",sx:{backgroundColor:"#E6EEF0"},children:[Object(C.jsx)(U.a,{children:Object(C.jsx)(J.a,{children:ge.map(((e,t)=>Object(C.jsx)(M.a,{align:e.align,children:e.title},t)))})}),Object(C.jsx)(P.a,{children:Array.isArray(r)&&r.map(((e,t)=>Object(C.jsxs)(J.a,{sx:{backgroundColor:t===z?"#CFD8D7":"inherit"},onMouseEnter:()=>{_(t)},onMouseLeave:V,children:[ge.map(((t,a)=>Object(C.jsx)(M.a,{align:t.align,children:e[t.attributeDBName]},a))),Object(C.jsx)(M.a,{align:"center",children:Object(C.jsx)(S.a,{variant:"outlined",color:"error",onClick:t=>(async(e,t)=>{t.stopPropagation(),console.log(e.raidTeam_id),D(e.character_id),R(!0),console.log("Remove clicked for",e)})(e,t),children:"Remove"})})]},t)))})]})})})})]},t)))})]})})]})}const ye=Object(j.a)();function pe(e){let{setMakeRaidMode:t}=e;const[a,c]=Object(n.useState)(""),[s,i]=Object(n.useState)(""),[r,l]=Object(n.useState)(""),[o,j]=Object(n.useState)(""),[m,x]=Object(n.useState)(""),[y,p]=Object(n.useState)(!0),[v,N]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{if(0===a.length)return;const e=new d;!async function(){e.checkRaidName(a).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e.data.user))),console.log("HERE IS USERINFO.DATA"),console.log(e.data),console.log("BELOW IS USER status"),console.log(e.data.status),"OK"===e.data.status&&(console.log("USER IS NOT FOUND, PROCEED WITH SIGNUP"),p(!1))}))}()}),[v]),Object(n.useEffect)((()=>{if(0===a.length||0===s.length||0===m.length)return;const e=new d;!async function(){e.createRaidTeam(a,s,r,o,m).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e))),"OK"===e.data.status?(alert("Raid Team Created!"),t(!1)):alert("Creation NOT Sucessful")}))}()}),[y]),Object(C.jsx)(u.a,{theme:ye,children:Object(C.jsxs)(de.a,{component:"main",maxWidth:"xs",children:[Object(C.jsx)(h.a,{}),Object(C.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(C.jsx)(g.a,{component:"h1",variant:"h5",children:"Create Raid Team"}),Object(C.jsxs)(O.a,{component:"form",sx:{mt:3},children:[Object(C.jsxs)(b.a,{container:!0,spacing:2,children:[Object(C.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(C.jsx)(f.a,{required:!0,fullWidth:!0,id:"teamName",label:"Team Name",name:"teamName",value:a,onChange:e=>c(e.target.value)})}),Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsx)(f.a,{required:!0,fullWidth:!0,id:"numPlayers",label:"Raid Team Size",name:"numPlayers",value:s,onChange:e=>i(e.target.value)})}),Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsxs)(ie.a,{sx:{m:1,minWidth:120},children:[Object(C.jsx)(re.a,{id:"rd1",children:"Raid Day 1"}),Object(C.jsxs)(Z.a,{id:"rd1",value:r,label:"Raid Day 1",onChange:e=>l(e.target.value),children:[Object(C.jsx)($.a,{value:"",children:Object(C.jsx)("em",{children:"None"})}),Object(C.jsx)($.a,{value:"Monday",children:"Monday"}),Object(C.jsx)($.a,{value:"Tuesday",children:"Tuesday"}),Object(C.jsx)($.a,{value:"Wednesday",children:"Wednesday"}),Object(C.jsx)($.a,{value:"Thursday",children:"Thursday"}),Object(C.jsx)($.a,{value:"Friday",children:"Friday"}),Object(C.jsx)($.a,{value:"Saturday",children:"Saturday"}),Object(C.jsx)($.a,{value:"Sunday",children:"Sunday"})]})]})}),Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsx)(f.a,{required:!0,fullWidth:!0,id:"raidTime",label:"Time of Raid",name:"raidTime",value:m,onChange:e=>x(e.target.value)})})]}),Object(C.jsx)(S.a,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:()=>{console.log("Submit Raid Team Called"),N(!0)},children:"Submit Raid Team"}),Object(C.jsx)(b.a,{container:!0,justifyContent:"flex-end",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(oe.a,{variant:"body2",onClick:()=>{console.log("Raid Mode called"),t(!1)},children:"Already have a Raid Team? Go back"})})})]})]})]})})}var Se=a(313),ve=a(303),Ne=a(309);function Ce(e){let{raid:t,chars:a}=e;const[c,s]=Object(n.useState)(!1),[i,r]=Object(n.useState)(!1),l={};return a.forEach((e=>{const t=e.role;l[t]=(l[t]||0)+1})),console.log(l),Object(C.jsxs)(n.Fragment,{children:[Object(C.jsxs)(b.a,{container:!0,spacing:2,children:[Object(C.jsx)(b.a,{item:!0,xs:3,sm:3,children:Object(C.jsxs)(g.a,{component:"h3",children:["Team Name: ",t.teamName]})}),Object(C.jsx)(b.a,{item:!0,xs:3,sm:3,children:Object(C.jsxs)(g.a,{component:"h3",children:["Raid Days: ",t.raidDay_A," / ",t.raidDay_B]})}),Object(C.jsx)(b.a,{item:!0,xs:3,sm:3,children:Object(C.jsxs)(g.a,{component:"h3",children:["Raid Time: ",t.raidTime]})}),Object(C.jsx)(b.a,{item:!0,xs:3,sm:3,children:Object(C.jsxs)(g.a,{component:"h3",children:["Team Size: ",t.numPlayers]})})]}),Object(C.jsx)(ve.a,{}),Object(C.jsx)(Se.a,{series:[{data:a.map((e=>e.gearScore))}],height:300,xAxis:[{data:a.map((e=>e.name)),scaleType:"band",tickLabelAngle:-45,tickLabelProps:()=>({textAnchor:"end",fontSize:"10px",dy:"0.5em"})}],margin:{top:10,bottom:60,left:40,right:10}}),Object(C.jsxs)(b.a,{container:!0,spacing:2,children:[Object(C.jsx)(b.a,{item:!0,xs:6,sm:6,children:Object(C.jsx)(Ne.a,{series:[{data:Object.keys(l).map((e=>({id:e,value:l[e],label:"".concat(e,": ").concat(l[e])})))}],width:400,height:200})}),Object(C.jsx)(b.a,{item:!0,xs:6,sm:6,children:Object(C.jsx)(O.a,{sx:{display:"flex",alignItems:"center"},children:Object(C.jsxs)(S.a,{variant:"outlined",color:"success",onClick:()=>r(!0),children:["View Characters",Object(C.jsx)(L.a,{"aria-label":"add character",size:"large",color:"success",sx:{fontSize:"2rem",ml:1},children:Object(C.jsx)(q.a,{sx:{fontSize:"inherit"}})})]})})})]}),i&&Object(C.jsx)(se,{raidID:t.raidTeam_id})]})}function Re(){const[e,t]=Object(n.useState)(!1),[a,c]=Object(n.useState)(!1),[s,i]=Object(n.useState)(void 0),[r,l]=Object(n.useState)([]),[o,d]=Object(n.useState)(!1);return Object(C.jsx)(n.Fragment,{children:o?Object(C.jsx)(Ce,{raid:s,chars:r}):e?Object(C.jsx)(ue,{setMakeRaidMode:t}):a?Object(C.jsx)(pe,{setAddCharMode:c}):Object(C.jsx)(fe,{setOneRaidMode:d,setRaid:i,setChars:l,setMakeRaidMode:t,setAddCharMode:c})})}function Te(e){return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)(g.a,{component:"div",variant:"h3",children:"Summary here"})})}const De=e=>[{title:"Summary",component:Object(C.jsx)(Te,{})},{title:"Raid Team",component:Object(C.jsx)(Re,{})},{title:"Account",component:Object(C.jsx)(_,{})},{title:"Add Character",component:Object(C.jsx)(se,{})}],ke=Object(D.a)("main")((e=>{let{theme:t}=e;return{flexGrow:1,padding:t.spacing(3),marginLeft:0}})),Ee=Object(D.a)(E.a,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t}=e;return{transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})}})),we=Object(D.a)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",padding:t.spacing(0,1),...t.mixins.toolbar,justifyContent:"flex-end"}})),Ie=e=>{let{open:t,selectedItem:a,handleSelectedItem:c,logoutAction:s}=e;return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)(Ee,{position:"fixed",open:!1,children:Object(C.jsxs)(w.a,{children:[Object(C.jsx)(I.a,{children:Object(C.jsx)(We,{selectedItem:a,onClick:c,menuItemTitles:De().map((e=>e.title))})}),Object(C.jsx)(O.a,{width:"100%",justifyContent:"right",flex:1,children:Object(C.jsx)(g.a,{variant:"h7",noWrap:!0,component:"div",align:"right",onClick:()=>s(),children:"Logout"})})]})})})},We=e=>Object(C.jsx)("div",{style:{display:"flex"},children:e.menuItemTitles.map((t=>Object(C.jsx)(W.a,{button:!0,style:{color:e.selectedItem===t?"blue":"inherit",width:"fit-content"},onClick:()=>e.onClick(t),children:Object(C.jsx)(A.a,{primary:t},t)},t)))}),Ae=e=>{const t=[...De()].filter((t=>t.title===e));return 1===t.length?t[0]:(console.log("In findSelectedComponent of MakeEligible. Didn't find the component that corresponds to the menu item."),{title:null,component:null})};function Be(e){let{title:t,user:a,logoutAction:s}=e;Object(k.a)();const[i,r]=c.a.useState(!0),[l,o]=Object(n.useState)("Summary");console.log("in MainDrawer");return Object(C.jsxs)(O.a,{sx:{display:"flex"},children:[Object(C.jsx)(h.a,{}),Object(C.jsx)(Ie,{selectedItem:l,handleSelectedItem:e=>{o(e)},open:i,logoutAction:s}),Object(C.jsxs)(ke,{open:i,children:[Object(C.jsx)(we,{}),Ae(l).component]})]})}const Pe=Object(j.a)({palette:{primary:{main:"#fefefe"}},typography:{}}),Me=e=>{let{email:t,userName:a}=e;return"".concat(t," ").concat(a)};function Fe(e){let{user:t,logoutAction:a}=e;return Object(C.jsx)(u.a,{theme:Pe,children:Object(C.jsx)(Be,{title:"WoW-Teamz",user:Me(t),logoutAction:a})})}const Ue=Object(j.a)();function Je(e){let{setSignupMode:t,setUser:a}=e;const[c,s]=Object(n.useState)(""),[i,r]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),[j,m]=Object(n.useState)(!0),[y,p]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{if(0===i.length)return;const e=new d;!async function(){e.checkUserEmail(i).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e.data.user))),console.log("HERE IS USERINFO.DATA"),console.log(e.data),console.log("BELOW IS USER status"),console.log(e.data.status),"OK"===e.data.status&&(console.log("USER IS NOT FOUND, PROCEED WITH SIGNUP"),m(!1))}))}()}),[y]),Object(n.useEffect)((()=>{if(0===i.length||0===c.length||0===l.length)return;const e=new d;!async function(){e.insertNewUser(c,i,l).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e)));const n=e.data.user;console.log("BELOW IS USER"),console.log(n),"OK"===e.data.status?(alert("Signup Sucessful, Thank you for signing up!"),a(n),t(!1)):alert("Signup Not Sucessful")}))}()}),[j]),Object(C.jsx)(u.a,{theme:Ue,children:Object(C.jsxs)(de.a,{component:"main",maxWidth:"xs",children:[Object(C.jsx)(h.a,{}),Object(C.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(C.jsx)(x.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(C.jsx)(N.a,{})}),Object(C.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(C.jsxs)(O.a,{component:"form",sx:{mt:3},children:[Object(C.jsxs)(b.a,{container:!0,spacing:2,children:[Object(C.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(C.jsx)(f.a,{required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",value:c,onChange:e=>s(e.target.value)})}),Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsx)(f.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:i,onChange:e=>r(e.target.value)})}),Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsx)(f.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:l,onChange:e=>o(e.target.value)})})]}),Object(C.jsx)(S.a,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:()=>{console.log("Submit Signup Called"),p(!0),console.log(i)},children:"Sign Up"}),Object(C.jsx)(b.a,{container:!0,justifyContent:"flex-end",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(oe.a,{variant:"body2",onClick:()=>{console.log("Signin called"),t(!1)},children:"Already have an account? Sign in"})})})]})]})]})})}function ze(){const[e,t]=Object(n.useState)(void 0),[a,c]=Object(n.useState)(!1);return Object(C.jsx)(n.Fragment,{children:void 0!==e?Object(C.jsx)(Fe,{user:e,logoutAction:(e=>()=>{e(void 0)})(t)}):a?Object(C.jsx)(Je,{user:e,setUser:t,setSignupMode:c}):Object(C.jsx)(T,{user:e,setUser:t,setSignupMode:c})})}var _e=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,345)).then((t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:s,getTTFB:i}=t;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(ze,{})}),document.getElementById("root")),_e()}},[[225,1,2]]]);
//# sourceMappingURL=main.a59f794d.chunk.js.map