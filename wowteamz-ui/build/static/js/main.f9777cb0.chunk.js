(this["webpackJsonpdraught-services"]=this["webpackJsonpdraught-services"]||[]).push([[0],{168:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(32),i=a.n(r),s=(a(168),a(64)),l=a.n(s);const o=(l.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",l.a.defaults.baseURL="http://localhost:8443/api/v1",l.a.defaults.withCredentials=!0,l.a);class j{async getUserInfo(e,t){return console.log(JSON.stringify(e)),console.log(JSON.stringify(t)),o.post("/login/",{email:e,password:t})}async checkUserEmail(e){return o.get("/signup/".concat(e))}async insertNewUser(e,t,a){return console.log(JSON.stringify(t)),console.log(JSON.stringify(a)),o.post("/signup/",{email:t,password:a,userName:e})}async insertCharacter(e){return o.post("/characters/insert",{userName:e}).then((e=>e.data)).catch((e=>({error:e,character:void 0})))}async allCharacters(){return o.get("characters/all-characters")}async deleteCharacter(e){return l.a.delete("/characters/delete/".concat(encodeURIComponent(e)))}async allAccounts(){return o.get("accounts/all-accounts")}async accountWithEmail(e){return o.get("accounts/".concat(e))}async allRaidTeams(){return o.get("raidteams/all-raidteams")}async addPlayerToRaid(e,t){return o.get("raidteams/".concat(e,"/").concat(t))}}var d=a(132),u=a(285),h=a(290),b=a(274),m=a(291),g=a(295),O=a(286),x=a(296),p=a(281),f=a(289),S=a(284),y=a(288),v=a(69),w=a.n(v),N=a(1);const C=Object(d.a)();function I(e){let{setUser:t,setSignupMode:a}=e;const[c,r]=Object(n.useState)(""),[i,s]=Object(n.useState)(""),[l,o]=Object(n.useState)(!1),[d,v]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{if(!d)return;const e=new j;!async function(){e.getUserInfo(c,i).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e)));const a=e.data.user;console.log("BELOW IS USER"),console.log(a),"OK"===e.data.status?(console.log("SETTING USER to USER"),t(a)):(v(!1),o(!0))}))}()}),[d,c,i,t]),Object(N.jsx)(u.a,{theme:C,children:Object(N.jsxs)(h.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(N.jsx)(b.a,{}),Object(N.jsx)(h.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://wallpapers.com/images/hd/world-of-warcraft-restoration-druid-healing-69ucodb01a3oyfab.webp)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),Object(N.jsx)(h.a,{item:!0,xs:12,sm:8,md:5,component:m.a,elevation:6,square:!0,children:Object(N.jsxs)(g.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(O.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(N.jsx)(w.a,{})}),Object(N.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)(g.a,{component:"form",noValidate:!0,sx:{mt:1},children:[Object(N.jsx)(p.a,{error:l,label:"Email",fullWidth:!0,value:c,onChange:e=>r(e.target.value),margin:"normal",helperText:l?"Invalid email or password":""}),Object(N.jsx)(p.a,{error:l,label:"Password",type:"password",fullWidth:!0,value:i,onChange:e=>s(e.target.value),margin:"normal",helperText:l?"Invalid email or password":""}),Object(N.jsx)(f.a,{control:Object(N.jsx)(S.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(N.jsx)(y.a,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:()=>{console.log("handleLogin called."),0===c.length||0===i.length?o(!0):(o(!1),v(!0))},children:"Sign In"}),Object(N.jsx)(y.a,{variant:"contained",sx:{mt:3,mb:2,marginLeft:1},onClick:()=>{console.log("handleSignup called."),a(!0)},children:"Sign up here."})]})]})})]})})}var E=a(4),D=a(31),k=a(292),B=a(307),T=a(308),U=a(298),A=a(306),P=a(305),R=a(130),W=a.n(R),F=a(131),J=a.n(F),L=a(84),M=a.n(L),z=a(287),K=a(310),q=a(309),H=a(302),Q=a(304),G=a(300),V=a(301),X=a(303),_=a(299);const Y=[{title:"Email",attributeDBName:"email",align:"left"},{title:"User Name",attributeDBName:"userName",align:"left"},{title:"Account ID",attributeDBName:"account_id",align:"left"},{title:"Role",attributeDBName:"role",align:"left"}];function Z(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(!1),[r,i]=Object(n.useState)(!1),[s,l]=Object(n.useState)(void 0);Object(n.useEffect)((()=>{if(!a||0===e.length)return;const t=new j;!async function(){t.getUserInfo(e).then((e=>{console.log("api returns user info and it is: ".concat(JSON.stringify(e)));const t=e.user;"OK"===e.status?l(t):(c(!1),i(!0))}))}()}),[a,l,e]);const[o,d]=Object(n.useState)([]);console.log("in AccountTable accounts contains is ".concat(JSON.stringify(o))),Object(n.useEffect)((()=>{const e=new j;!async function(){const t=await e.allAccounts();console.log("accounts from the DB ".concat(JSON.stringify(t))),d(t.data)}()}),[]);const u=e=>{let{accountObject:t,onClick:a}=e;return Object(N.jsx)(_.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:Y.map(((e,n)=>Object(N.jsx)(G.a,{onClick:()=>a(t),align:e.align,children:t[e.attributeDBName]},n)))})};return Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(x.a,{component:"h1",variant:"h5",children:"Here is a list of all your characters that reside in your account."}),o.length>0&&Object(N.jsx)(V.a,{component:m.a,children:Object(N.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"account table",children:[Object(N.jsx)(X.a,{children:Object(N.jsx)(_.a,{children:Y.map(((e,t)=>Object(N.jsx)(G.a,{align:e.align,children:e.title},t)))})}),Object(N.jsx)(Q.a,{children:o.map(((e,t)=>Object(N.jsx)(u,{accountObject:e},t)))})]})})]})}var $=a(129),ee=a.n($);const te=[{title:"Image",attributeDBName:"imagePath",align:"left"},{title:"Name",attributeDBName:"name",align:"left"},{title:"Race",attributeDBName:"race",align:"left"},{title:"Class",attributeDBName:"class",align:"left"},{title:"Item Level",attributeDBName:"gearScore",align:"left"}];var ae=function(){const[e,t]=Object(n.useState)(!1),[a,c]=Object(n.useState)(""),[r,i]=Object(n.useState)([]),s=new j;Object(n.useEffect)((()=>{const e=async()=>{const e=await s.allCharacters();e.data&&i(e.data)};e();const t=setInterval(e,5e3);return()=>clearInterval(t)}),[]);const l=async()=>{if(a)try{const e=await s.insertCharacter(a);if(console.log(e),e.error)throw e.error;i([...r,e]),c(""),t(!1)}catch(e){console.error("API call failed:",e)}};return Object(N.jsxs)(g.a,{children:[Object(N.jsx)(x.a,{variant:"h4",sx:{mb:2},children:"Characters"}),Object(N.jsx)(V.a,{component:m.a,children:Object(N.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"characters table",children:[Object(N.jsx)(X.a,{children:Object(N.jsxs)(_.a,{children:[te.map((e=>Object(N.jsx)(G.a,{align:e.align,children:e.title},e.title))),Object(N.jsx)(G.a,{align:"center",children:"Actions"})]})}),Object(N.jsx)(Q.a,{children:r.map(((e,t)=>Object(N.jsxs)(_.a,{children:[te.map((t=>Object(N.jsx)(G.a,{align:t.align,children:"imagePath"===t.attributeDBName?Object(N.jsx)("img",{src:e[t.attributeDBName],alt:"Avatar of ".concat(e.name),style:{width:"70px",height:"70px"}}):e[t.attributeDBName]},t.title))),Object(N.jsx)(G.a,{align:"center",children:Object(N.jsx)(y.a,{variant:"outlined",color:"error",onClick:()=>(async e=>{try{const t=e;if(200!==(await s.deleteCharacter(t)).status)throw new Error("Failed to delete character");i(r.filter((t=>t.name!==e)))}catch(t){console.error("Error deleting character:",t)}})(e.name),children:"Delete"})})]},t)))})]})}),e&&Object(N.jsx)(p.a,{label:"Enter Character Name",variant:"outlined",value:a,onChange:e=>c(e.target.value),onBlur:l,onKeyPress:e=>"Enter"===e.key&&l(),fullWidth:!0,sx:{mt:2}}),Object(N.jsx)(P.a,{onClick:()=>t(!0),"aria-label":"add character",size:"large",sx:{fontSize:"3rem",mt:2},children:Object(N.jsx)(ee.a,{sx:{fontSize:"inherit"}})})]})};const ne=[{title:"Raid Team ID",attributeDBName:"raidTeam_id",align:"left"},{title:"Team Name",attributeDBName:"teamName",align:"left"},{title:"Number of Players",attributeDBName:"numPlayers",align:"left"},{title:"Players on the Bench",attributeDBName:"numBench",align:"left"},{title:"Trials",attributeDBName:"numTrials",align:"left"}];function ce(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(!1),[r,i]=Object(n.useState)(!1),[s,l]=Object(n.useState)(void 0);Object(n.useEffect)((()=>{if(!a||0===e.length)return;const t=new j;!async function(){t.getUserInfo(e).then((e=>{console.log("api returns user info and it is: ".concat(JSON.stringify(e)));const t=e.user;"OK"===e.status?l(t):(c(!1),i(!0))}))}()}),[a,l,e]);const[o,d]=Object(n.useState)([]);console.log("in AccountTable accounts contains is ".concat(JSON.stringify(o))),Object(n.useEffect)((()=>{const e=new j;!async function(){const t=await e.allRaidTeams();console.log("raidteams from the DB ".concat(JSON.stringify(t))),d(t.data)}()}),[]);const u=e=>{let{raidteamObject:t,onClick:a}=e;return Object(N.jsx)(_.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:ne.map(((e,n)=>Object(N.jsx)(G.a,{onClick:()=>a(t),align:e.align,children:t[e.attributeDBName]},n)))})};return Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(x.a,{component:"h1",variant:"h5",children:"Add a character to your raid using their character ID"}),Object(N.jsxs)(g.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",mt:10,children:[Object(N.jsx)(x.a,{component:"h5",variant:"h5",children:"Enter Character Name"}),Object(N.jsx)(p.a,{error:r,id:"outlined-error-helper-text",label:"Character Name",placeholder:"",fullwidth:!0,value:e,onChange:e=>{console.log("handleInputCharacter called."),t(e.target.value),i(!1),"Submit"===e.key&&(console.log("handleKeyPress: Verify user input."),c(!0))}}),Object(N.jsx)(A.a,{}),Object(N.jsx)(x.a,{component:"h5",variant:"h5",children:"Enter Raid Team Name"}),Object(N.jsx)(p.a,{error:r,id:"outlined-error-helper-text",label:"Raid Team Name",placeholder:"",fullwidth:!0,value:e,onChange:e=>{console.log("handleInputRaid called."),t(e.target.value),i(!1),"Submit"===e.key&&(console.log("handleKeyPress: Verify user input."),c(!0))}}),Object(N.jsx)(A.a,{}),Object(N.jsx)(g.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"50%",mt:4,children:Object(N.jsx)(y.a,{variant:"contained",size:"medium",sx:{mt:4,mb:2},onClick:()=>{c(!0)},children:"Proceed"})})]}),Object(N.jsx)(x.a,{component:"h1",variant:"h5",children:"Here is a list of all members of your raid team."}),o.length>0&&Object(N.jsx)(V.a,{component:m.a,children:Object(N.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"account table",children:[Object(N.jsx)(X.a,{children:Object(N.jsx)(_.a,{children:ne.map(((e,t)=>Object(N.jsx)(G.a,{align:e.align,children:e.title},t)))})}),Object(N.jsx)(Q.a,{children:o.map(((e,t)=>Object(N.jsx)(u,{raidteamObject:e},t)))})]})})]})}function re(e){return Object(N.jsx)(n.Fragment,{children:Object(N.jsx)(x.a,{component:"div",variant:"h3",children:"Markets here"})})}function ie(e){return Object(N.jsx)(n.Fragment,{children:Object(N.jsx)(x.a,{component:"div",variant:"h3",children:"Transations here"})})}var se=a(280);function le(e){return Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(se.a,{series:[{data:[35,44,24,34]},{data:[51,6,49,30]},{data:[15,25,30,50]},{data:[60,50,15,25]}],height:290,xAxis:[{data:["Q1","Q2","Q3","Q4"],scaleType:"band"}],margin:{top:10,bottom:30,left:40,right:10}}),Object(N.jsx)(x.a,{component:"div",variant:"h3",children:"Summary here"})]})}const oe=e=>[{title:"Summary",component:Object(N.jsx)(le,{})},{title:"Markets",component:Object(N.jsx)(re,{})},{title:"Raid Team",component:Object(N.jsx)(ce,{})},{title:"Account",component:Object(N.jsx)(Z,{})},{title:"Add Character",component:Object(N.jsx)(ae,{})},{title:"Transactions",component:Object(N.jsx)(ie,{})}],je=240,de=Object(E.a)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:a}=e;return{flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(je,"px"),...a&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}})),ue=Object(E.a)(B.a,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:a}=e;return{transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...a&&{width:"calc(100% - ".concat(je,"px)"),marginLeft:"".concat(je,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})}}})),he=Object(E.a)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",padding:t.spacing(0,1),...t.mixins.toolbar,justifyContent:"flex-end"}})),be=e=>{let{open:t,handleDrawerOpen:a,title:c,user:r,logoutAction:i}=e;return Object(N.jsx)(n.Fragment,{children:Object(N.jsx)(ue,{position:"fixed",open:t,children:Object(N.jsxs)(T.a,{children:[Object(N.jsx)(P.a,{color:"inherit","aria-label":"open drawer",onClick:a,edge:"start",sx:{mr:2,...t&&{display:"none"}},children:Object(N.jsx)(W.a,{})}),Object(N.jsx)(x.a,{variant:"h6",noWrap:!0,component:"div",children:c}),Object(N.jsx)(g.a,{width:"100%",justifyContent:"center",flex:1,children:Object(N.jsx)(x.a,{variant:"h6",noWrap:!0,component:"div",align:"center",children:r})}),Object(N.jsx)(g.a,{width:"100%",justifyContent:"right",flex:1,children:Object(N.jsx)(x.a,{variant:"h7",noWrap:!0,component:"div",align:"right",onClick:()=>i(),children:"Logout"})})]})})})},me=e=>Object(N.jsx)("div",{children:e.menuItemTitles.map((t=>Object(N.jsxs)(z.a,{button:!0,onClick:()=>e.onClick(t),children:[Object(N.jsx)(q.a,{primary:t},t),e.selectedItem===t&&Object(N.jsx)(K.a,{children:Object(N.jsx)(M.a,{})})]},t)))}),ge=e=>{const t=[...oe(),{title:"Activities",component:Object(N.jsx)(ie,{})}].filter((t=>t.title===e));return 1===t.length?t[0]:(console.log("In findSelectedComponent of MakeEligible. Didn't find the component that corresponds to the menu item."),{title:null,component:null})};function Oe(e){let{title:t,user:a,logoutAction:r}=e;const i=Object(D.a)(),[s,l]=c.a.useState(!1),[o,j]=Object(n.useState)("Summary");console.log("in MainDrawer");return Object(N.jsxs)(g.a,{sx:{display:"flex"},children:[Object(N.jsx)(b.a,{}),Object(N.jsx)(be,{title:t,open:s,handleDrawerOpen:()=>{l(!0)},user:a,logoutAction:r}),Object(N.jsxs)(k.a,{sx:{width:je,flexShrink:0,"& .MuiDrawer-paper":{width:je,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:s,children:[Object(N.jsx)(he,{children:Object(N.jsx)(P.a,{onClick:()=>{l(!1)},children:"ltr"===i.direction?Object(N.jsx)(J.a,{}):Object(N.jsx)(M.a,{})})}),Object(N.jsx)(A.a,{}),Object(N.jsx)(U.a,{children:Object(N.jsx)(me,{selectedItem:o,onClick:e=>{j(e)},menuItemTitles:oe().map((e=>e.title))})})]}),Object(N.jsxs)(de,{open:s,children:[Object(N.jsx)(he,{}),ge(o).component]})]})}const xe=e=>{let{email:t,userName:a}=e;return"".concat(t," ").concat(a)};function pe(e){let{user:t,logoutAction:a}=e;return Object(N.jsx)(Oe,{title:"WoW-Teamz",user:xe(t),logoutAction:a})}var fe=a(293),Se=a(297);const ye=Object(d.a)();function ve(e){let{setSignupMode:t,setUser:a}=e;const[c,r]=Object(n.useState)(""),[i,s]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),[d,m]=Object(n.useState)(!0),[v,C]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{if(0===i.length||0===c.length||0===l.length)return;const e=new j;!async function(){e.insertNewUser(c,i,l).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e)));const n=e.data.user;console.log("BELOW IS USER"),console.log(n),"OK"===e.data.status?(window.alert("Signup Sucessful, Thank you for signing up!"),a(n),m(!1),t(!1)):window.alert("Signup Not Sucessful")}))}()}),[d]),Object(n.useEffect)((()=>{if(0===i.length)return;const e=new j;!async function(){e.checkUserEmail(i).then((e=>{console.log("API returns user info and it is: ".concat(JSON.stringify(e.data.user)));const t=e.data.user;console.log("BELOW IS USER"),console.log(t),console.log("USER IS NOT FOUND, PROCEED WITH SIGNUP"),C(!1)}))}()}),[v]),Object(N.jsx)(u.a,{theme:ye,children:Object(N.jsxs)(Se.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(b.a,{}),Object(N.jsxs)(g.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(O.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(N.jsx)(w.a,{})}),Object(N.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(N.jsxs)(g.a,{component:"form",sx:{mt:3},children:[Object(N.jsxs)(h.a,{container:!0,spacing:2,children:[Object(N.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(p.a,{required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",value:c,onChange:e=>r(e.target.value)})}),Object(N.jsx)(h.a,{item:!0,xs:12,children:Object(N.jsx)(p.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:i,onChange:e=>s(e.target.value)})}),Object(N.jsx)(h.a,{item:!0,xs:12,children:Object(N.jsx)(p.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:l,onChange:e=>o(e.target.value)})}),Object(N.jsx)(h.a,{item:!0,xs:12,children:Object(N.jsx)(f.a,{control:Object(N.jsx)(S.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(N.jsx)(y.a,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:()=>{console.log("Submit Signup Called"),C(!0)},children:"Sign Up"}),Object(N.jsx)(h.a,{container:!0,justifyContent:"flex-end",children:Object(N.jsx)(h.a,{item:!0,children:Object(N.jsx)(fe.a,{variant:"body2",onClick:()=>{console.log("Signin called"),t(!1)},children:"Already have an account? Sign in"})})})]})]})]})})}function we(){const[e,t]=Object(n.useState)(void 0),[a,c]=Object(n.useState)(!1);return Object(N.jsx)(n.Fragment,{children:void 0!==e?Object(N.jsx)(pe,{user:e,logoutAction:(e=>()=>{e(void 0)})(t)}):a?Object(N.jsx)(ve,{user:e,setUser:t,setSignupMode:c}):Object(N.jsx)(I,{user:e,setUser:t,setSignupMode:c})})}var Ne=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,311)).then((t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:r,getTTFB:i}=t;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(we,{})}),document.getElementById("root")),Ne()}},[[193,1,2]]]);
//# sourceMappingURL=main.f9777cb0.chunk.js.map